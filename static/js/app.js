webpackJsonp([1],{"/GFz":function(t,e){},"01kZ":function(t,e){},KJBl:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMTAwIDEwMCIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMTAwIDEwMCIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQogIDxnPjxwYXRoDQogICAgZD0iTTg5LjIsNjAuOGMtNC41LDAtNi42LTUuMy04LjYtMTAuNGMtMS44LTQuNS0zLjYtOS4xLTYuOC05LjFzLTUsNC42LTYuOCw5LjFjLTIsNS4xLTQuMSwxMC40LTguNiwxMC40cy02LjYtNS4zLTguNi0xMC40ICAgYy0xLjgtNC41LTMuNi05LjEtNi44LTkuMXMtNSw0LjYtNi44LDkuMWMtMiw1LjEtNC4xLDEwLjQtOC42LDEwLjRjLTQuNSwwLTYuNi01LjMtOC42LTEwLjRjLTEuOC00LjUtMy42LTkuMS02LjgtOS4xICAgYy0wLjYsMC0xLTAuNC0xLTFzMC40LTEsMS0xYzQuNSwwLDYuNiw1LjMsOC42LDEwLjRjMS44LDQuNSwzLjYsOS4xLDYuOCw5LjFjMy4yLDAsNS00LjYsNi44LTkuMWMyLTUuMSw0LjEtMTAuNCw4LjYtMTAuNCAgIHM2LjYsNS4zLDguNiwxMC40YzEuOCw0LjUsMy42LDkuMSw2LjgsOS4xYzMuMiwwLDUtNC42LDYuOC05LjFjMi01LjEsNC4xLTEwLjQsOC42LTEwLjRzNi42LDUuMyw4LjYsMTAuNGMxLjgsNC41LDMuNiw5LjEsNi44LDkuMSAgIGMwLjYsMCwxLDAuNCwxLDFTODkuOCw2MC44LDg5LjIsNjAuOHoiLz48L2c+DQo8L3N2Zz4NCg=="},NHnr:function(t,e,n){"use strict";function a(t){n("iJ/p")}function i(t){n("PNox")}function s(t){n("01kZ")}function o(t){n("/GFz")}Object.defineProperty(e,"__esModule",{value:!0});var c=n("/5sW"),u={name:"Douze",data:function(){return{playing:{}}},props:{octave:{default:0,type:Number},play:{type:Function},stop:{type:Function}},methods:{overin:function(t){t.buttons&&this.clickin(t)},leavin:function(t){t.buttons&&this.unclickin(t)},clickin:function(t){var e=t.target.dataset.note;e&&(this.$set(this.playing,e,!0),e=Number(e)+12*this.octave,this.play(e))},unclickin:function(t){var e=t.target.dataset.note;e&&(this.$set(this.playing,e,!1),e=Number(e)+12*this.octave,this.stop(e))}}},l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"douze",on:{mousedown:t.clickin,mouseup:t.unclickin}},[n("div",{staticClass:"blanche",class:{playing:t.playing[60]},attrs:{"data-note":60},on:{mouseover:t.overin,mouseleave:t.leavin}}),t._v(" "),n("div",{staticClass:"noire",class:{playing:t.playing[61]},attrs:{"data-note":61},on:{mouseover:t.overin,mouseleave:t.leavin}}),t._v(" "),n("div",{staticClass:"blanche",class:{playing:t.playing[62]},attrs:{"data-note":62},on:{mouseover:t.overin,mouseleave:t.leavin}}),t._v(" "),n("div",{staticClass:"noire",class:{playing:t.playing[63]},attrs:{"data-note":63},on:{mouseover:t.overin,mouseleave:t.leavin}}),t._v(" "),n("div",{staticClass:"blanche",class:{playing:t.playing[64]},attrs:{"data-note":64},on:{mouseover:t.overin,mouseleave:t.leavin}}),t._v(" "),n("div",{staticClass:"blanche",class:{playing:t.playing[65]},attrs:{"data-note":65},on:{mouseover:t.overin,mouseleave:t.leavin}}),t._v(" "),n("div",{staticClass:"noire",class:{playing:t.playing[66]},attrs:{"data-note":66},on:{mouseover:t.overin,mouseleave:t.leavin}}),t._v(" "),n("div",{staticClass:"blanche",class:{playing:t.playing[67]},attrs:{"data-note":67},on:{mouseover:t.overin,mouseleave:t.leavin}}),t._v(" "),n("div",{staticClass:"noire",class:{playing:t.playing[68]},attrs:{"data-note":68},on:{mouseover:t.overin,mouseleave:t.leavin}}),t._v(" "),n("div",{staticClass:"blanche",class:{playing:t.playing[69]},attrs:{"data-note":69},on:{mouseover:t.overin,mouseleave:t.leavin}}),t._v(" "),n("div",{staticClass:"noire",class:{playing:t.playing[70]},attrs:{"data-note":70},on:{mouseover:t.overin,mouseleave:t.leavin}}),t._v(" "),n("div",{staticClass:"blanche",class:{playing:t.playing[71]},attrs:{"data-note":71},on:{mouseover:t.overin,mouseleave:t.leavin}})])},r=[],v={render:l,staticRenderFns:r},d=v,y=n("VU/8"),m=a,p=y(u,d,!1,m,"data-v-0cb29462",null),g=p.exports,h={name:"SynthParam",props:["synth","number","remove"]},w=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"synthParam"},[a("div",{staticClass:"topbar"},[a("div",{staticClass:"delete",on:{click:function(e){t.remove(t.number-1)}}},[t._v("X")])]),t._v(" "),a("div",{staticClass:"waveform"},[a("div",{class:{selected:"sine"===t.synth.type},on:{click:function(e){t.synth.type="sine"}}},[a("img",{attrs:{src:n("KJBl"),alt:"sine wave"}})]),t._v(" "),a("div",{class:{selected:"square"===t.synth.type},on:{click:function(e){t.synth.type="square"}}},[a("img",{attrs:{src:n("il9f"),alt:"square wave"}})]),t._v(" "),a("div",{class:{selected:"sawtooth"===t.synth.type},on:{click:function(e){t.synth.type="sawtooth"}}},[a("img",{attrs:{src:n("g2QH"),alt:"sawtooth wave"}})]),t._v(" "),a("div",{class:{selected:"triangle"===t.synth.type},on:{click:function(e){t.synth.type="triangle"}}},[a("img",{attrs:{src:n("xXxd"),alt:"triangle wave"}})])]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"attack"},[a("div",{staticClass:"lib"},[t._v("â¬ˆ")]),t._v(" "),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.synth.attack,expression:"synth.attack"}],attrs:{type:"number",value:"0",step:"0.1",min:"0"},domProps:{value:t.synth.attack},on:{input:function(e){e.target.composing||t.$set(t.synth,"attack",e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"release"},[a("div",{staticClass:"lib"},[t._v("â¬Š")]),t._v(" "),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.synth.release,expression:"synth.release"}],attrs:{type:"number",value:"0",step:"0.1",min:"0"},domProps:{value:t.synth.release},on:{input:function(e){e.target.composing||t.$set(t.synth,"release",e.target.value)}}})])])]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"detune"},[a("div",{staticClass:"lib"},[t._v("#")]),t._v(" "),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.synth.detune,expression:"synth.detune"}],attrs:{type:"number",value:"0",step:"1",min:"-11",max:"11"},domProps:{value:t.synth.detune},on:{input:function(e){e.target.composing||t.$set(t.synth,"detune",e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"octave"},[a("div",{staticClass:"lib"},[t._v("O")]),t._v(" "),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.synth.octave,expression:"synth.octave"}],attrs:{type:"number",value:"0",step:"1",min:"-3",max:"3"},domProps:{value:t.synth.octave},on:{input:function(e){e.target.composing||t.$set(t.synth,"octave",e.target.value)}}})])])]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"volume"},[a("div",{staticClass:"lib"},[t._v("ðŸ”Š")]),t._v(" "),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.synth.volume,expression:"synth.volume"}],attrs:{type:"number",value:"0",step:"0.1",min:"0",max:"1"},domProps:{value:t.synth.volume},on:{input:function(e){e.target.composing||t.$set(t.synth,"volume",e.target.value)}}})])])])])},L=[],I={render:w,staticRenderFns:L},M=I,N=n("VU/8"),C=i,D=N(h,M,!1,C,null,null),x=D.exports,f=n("Zrlr"),A=n.n(f),j=n("wxAW"),S=n.n(j),b=n("RFF1"),z=n.n(b),_=null;"undefined"!=typeof AudioContext?_=new AudioContext:"undefined"!=typeof webkitAudioContext&&(_=new webkitAudioContext);var k=function(){function t(e){var n=e.type,a=void 0===n?"sine":n,i=e.release,s=void 0===i?0:i,o=e.attack,c=void 0===o?0:o,u=e.volume,l=void 0===u?1:u,r=e.detune,v=void 0===r?0:r,d=e.octave,y=void 0===d?0:d;A()(this,t),this.context=_,this.gainNode=this.context.createGain(),this.gainNode.connect(_.destination),this.type=a,this.attack=c,this.release=s,this.notes=z.a,this.detune=v,this.octave=y,this.volume=l,this.playing={}}return S()(t,[{key:"clear",value:function(){for(var t in this.playing)this.playing[t].oscillator.stop();this.playing={}}},{key:"play",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:127;t=Number(t),this.playing[t]||this.createNote(t),this.playing[t].gainNode.gain.cancelScheduledValues(0);var n=this.attack||.01,a=this.context.currentTime+n,i=Math.round(e/12.8)/10||.1;this.playing[t].gainNode.gain.exponentialRampToValueAtTime(i,a)}},{key:"stop",value:function(t){if(t=Number(t),this.playing[t]){this.playing[t].gainNode.gain.cancelScheduledValues(0);var e=this.release||.01,n=this.context.currentTime+e;this.playing[t].gainNode.gain.exponentialRampToValueAtTime(1e-5,n)}}},{key:"createNote",value:function(t){var e=_.createOscillator(),n=_.createGain();e.type=this.type,e.frequency.value=this.notes[t],e.detune.value=100*this.detune+1200*this.octave,e.connect(n),n.connect(this.gainNode),n.gain.value=1e-4,e.start(0),this.playing[t]={oscillator:e,gainNode:n}}},{key:"attack",get:function(){return this._attack},set:function(t){this._attack=Number(t)}},{key:"release",get:function(){return this._release},set:function(t){this._release=Number(t)}},{key:"volume",get:function(){return this._volume},set:function(t){this._volume=Number(t)||.001,this.gainNode.gain.value=this._volume}},{key:"detune",get:function(){return this._detune},set:function(t){this._detune=Number(t),this.clear()}},{key:"octave",get:function(){return this._octave},set:function(t){this._octave=Number(t),this.clear()}},{key:"type",get:function(){return this._type},set:function(t){this._type=t,this.clear()}}]),t}(),T=k,O=n("Xxa5"),Y=n.n(O),P=n("exGp"),E=n.n(P),W=function(){var t=E()(Y.a.mark(function t(e){var n,a,i;return Y.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(navigator.requestMIDIAccess){t.next=3;break}return console.log("Try with chrome"),t.abrupt("return");case 3:return n=void 0,t.prev=4,t.next=7,navigator.requestMIDIAccess();case 7:n=t.sent,t.next=14;break;case 10:return t.prev=10,t.t0=t.catch(4),console.error("oops",t.t0),t.abrupt("return");case 14:for(a=n.inputs.values(),i=a.next();!i.done;i=a.next())i.value.onmidimessage=e;case 16:case"end":return t.stop()}},t,this,[[4,10]])}));return function(e){return t.apply(this,arguments)}}(),Q=W,Z={name:"Piano",components:{Douze:g,SynthParam:x},data:function(){return{synth:[new T({})],octave:0,notebase:60}},computed:{note:function(){return this.notebase+12*this.octave}},created:function(){Q(this.midiEvent)},methods:{play:function(t,e){this.synth.forEach(function(n){return n.play(t,e)})},stop:function(t){this.synth.forEach(function(e){return e.stop(t)})},addSynth:function(){this.synth.push(new T({}))},removeSynth:function(t){this.synth[t].clear(),this.synth.splice(t,1)},midiEvent:function(t){var e=t.data[0],n=t.data[1],a=t.data[2];return 144===e?this.play(n,a):128===e?this.stop(n):void console.log(t.data)}}},H=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"Piano"},[n("div",{staticClass:"clavierWrap"},[n("Douze",{attrs:{octave:t.octave-1,play:t.play,stop:t.stop}}),t._v(" "),n("Douze",{attrs:{octave:t.octave,play:t.play,stop:t.stop}}),t._v(" "),n("Douze",{attrs:{octave:t.octave+1,play:t.play,stop:t.stop}})],1),t._v(" "),n("div",{staticClass:"options"},[n("div",{staticClass:"octave"},[n("div",{staticClass:"text"},[t._v("O : "+t._s(t.octave))]),t._v(" "),n("div",{staticClass:"button",on:{click:function(e){t.octave++}}},[t._v("+")]),t._v(" "),n("div",{staticClass:"button",on:{click:function(e){t.octave--}}},[t._v("-")])]),t._v(" "),n("div",{staticClass:"addsynth"},[n("div",{staticClass:"text"},[t._v("ðŸŽ¹")]),t._v(" "),n("div",{staticClass:"button",on:{click:function(e){t.addSynth()}}},[t._v("+")]),t._v(" "),n("div",{staticClass:"button",on:{click:function(e){t.removeSynth(t.synth.length-1)}}},[t._v("-")])])]),t._v(" "),n("div",{staticClass:"synthParamWrap"},t._l(t.synth,function(e,a){return n("SynthParam",{key:a,attrs:{synth:e,number:a+1,remove:t.removeSynth}})}))])},G=[],J={render:H,staticRenderFns:G},R=J,B=n("VU/8"),V=s,X=B(Z,R,!1,V,"data-v-72405702",null),F=X.exports,U={name:"app",components:{Piano:F}},$=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("piano")],1)},q=[],K={render:$,staticRenderFns:q},tt=K,et=n("VU/8"),nt=o,at=et(U,tt,!1,nt,null,null),it=at.exports;c.a.config.productionTip=!1,new c.a({el:"#app",render:function(t){return t(it)}})},PNox:function(t,e){},RFF1:function(t,e){t.exports={0:8.17,1:8.66,2:9.17,3:9.72,4:10.3,5:10.91,6:11.56,7:12.24,8:12.97,9:13.75,10:14.56,11:15.43,12:16.35,13:17.32,14:18.35,15:19.44,16:20.6,17:21.82,18:23.12,19:24.49,20:25.95,21:27.5,22:29.13,23:30.86,24:32.7,25:34.64,26:36.7,27:38.89,28:41.2,29:43.65,30:46.24,31:48.99,32:51.91,33:55,34:58.27,35:61.73,36:65.4,37:69.29,38:73.41,39:77.78,40:82.4,41:87.3,42:92.49,43:97.99,44:103.82,45:110,46:116.54,47:123.47,48:130.81,49:138.59,50:146.83,51:155.56,52:164.81,53:174.61,54:184.99,55:195.99,56:207.65,57:220,58:233.08,59:246.94,60:261.62,61:277.18,62:293.66,63:311.12,64:329.62,65:349.22,66:369.99,67:391.99,68:415.3,69:440,70:466.16,71:493.88,72:523.25,73:554.36,74:587.32,75:622.25,76:659.25,77:698.45,78:739.98,79:783.99,80:830.6,81:880,82:932.32,83:987.76,84:1046.5,85:1108.73,86:1174.65,87:1244.5,88:1318.51,89:1396.91,90:1479.97,91:1567.98,92:1661.21,93:1760,94:1864.65,95:1975.53,96:2093,97:2217.46,98:2349.31,99:2489.01,100:2637.02,101:2793.82,102:2959.95,103:3135.96,104:3322.43,105:3520,106:3729.31,107:3951.06,108:4186,109:4434.92,110:4698.63,111:4978.03,112:5274.04,113:5587.65,114:5919.91,115:6271.92,116:6644.87,117:7040,118:7458.62,119:7902.13,120:8372.01,121:8869.84,122:9397.27,123:9956.06,124:10548.08,125:11175.3,126:11839.82,127:12543.85}},g2QH:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMTAwIDEwMCIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMTAwIDEwMCIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQogIDxnPjxwYXRoIGZpbGw9IiMwMDAwMDAiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBkPSJNMzIuMyw0Ny4yIi8+PC9nPg0KICA8Zz48cG9seWdvbiBwb2ludHM9IjY0LDYxLjkgNjQsNDEuOSAzNCw2MS45IDM0LDQxLjkgNS42LDYwLjggNC40LDU5LjIgMzYsMzguMSAzNiw1OC4xIDY2LDM4LjEgNjYsNTguMSA5NC40LDM5LjIgOTUuNiw0MC44ICAiLz48L2c+DQo8L3N2Zz4NCg=="},"iJ/p":function(t,e){},il9f:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMTAwIDEwMCIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMTAwIDEwMCIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQogIDxnPjxwYXRoIGZpbGw9IiMwMDAwMDAiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBkPSJNMzIuMyw0Ny4yIi8+PC9nPg0KICA8Zz48cG9seWdvbiBwb2ludHM9Ijk1LDYxIDc5LDYxIDc5LDQxIDY2LDQxIDY2LDYxIDQ5LDYxIDQ5LDQxIDM2LDQxIDM2LDYxIDE5LDYxIDE5LDQxIDUsNDEgNSwzOSAyMSwzOSAyMSw1OSAzNCw1OSAzNCwzOSA1MSwzOSAgICA1MSw1OSA2NCw1OSA2NCwzOSA4MSwzOSA4MSw1OSA5NSw1OSAgIi8+PC9nPg0KPC9zdmc+DQo="},xXxd:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2aWV3Qm94PSIwIDAgMTAwIDEwMCIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMTAwIDEwMCIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQogIDxnPjxwYXRoIGZpbGw9IiMwMDAwMDAiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBkPSJNMzIuMyw0Ny4yIi8+PC9nPg0KICA8Zz48cG9seWdvbiBwb2ludHM9IjU3LjUsNjEuNyA0Mi41LDQxLjcgMjcuNSw2MS43IDExLjcsNDAuNiAxMy4zLDM5LjQgMjcuNSw1OC4zIDQyLjUsMzguMyA1Ny41LDU4LjMgNzIuNSwzOC4zIDg4LjMsNTkuNCA4Ni43LDYwLjYgICAgNzIuNSw0MS43ICAiLz48L2c+DQo8L3N2Zz4NCg=="}},["NHnr"]);
//# sourceMappingURL=app.9f0a39fe4fae1b56ccaf.js.map